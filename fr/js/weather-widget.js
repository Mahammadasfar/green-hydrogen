var _unit,_unitValue,_conditions;function convertUnit(){return Math.round((_unitValue-32)/1.8)}function getDay(t){switch(t){case"Sun":return"Sunday";case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sun":return"Sunday";case"Sat":return"Saturday"}}function getWeather(t){var e="https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid="+t+" & u=c &format=json&callback=?";$.getJSON(e,function(t){$("#weatherlocation").text(t.query.results.channel.title.replace(/Yahoo! Weather \-/g," "));var e="<span>"+getDay(t.query.results.channel.item.condition.date.split(",")[0])+"</span>, "+t.query.results.channel.item.condition.date.split(",")[1];$("#date-time").html(e),_unit=t.query.results.channel.units.temperature,_unitValue=t.query.results.channel.item.condition.temp,_conditions="<img src='/images/weather.png' />";t.query.results.channel.units.temperature;$("#conditions").html(_conditions+" "+convertUnit()),$(".unit-switch").show()})}function getLocation(t){var e="https://query.yahooapis.com/v1/public/yql?q=%20SELECT%20*%20FROM%20geo.places%20WHERE%20text%3D%22"+t+"%22%20LIMIT%201&format=json&callback=?";$.getJSON(e,function(t){1==t.query.count?(getWeather(t.query.results.place.woeid),$("#editloc").toggle("fast"),$("#locinfo").hide()):$("#locinfo").show()})}$(document).ready(function(){$("#lnkgo").click(function(){getLocation()}),$("#editloclink").click(function(){$("#editloc").toggle("fast")}),$.getJSON("http://maps.googleapis.com/maps/api/geocode/json?latlng="+$("#_hLatLong").val()+"&sensor=true",function(t,e){"success"===e&&$.each(t.results[0].address_components,function(t,e){"administrative_area_level_2"==e.types[0]&&getLocation(e.long_name)})}),$(".unit-switch").click(function(t){t.preventDefault(),$(".unit-switch").removeClass("active-unit"),$(this).addClass("active-unit"),"0C"==$(this).text()?$("#conditions").html(_conditions+" "+convertUnit()):$("#conditions").html(_conditions+" "+_unitValue)})}),$(function(){$(".ghost").each(function(t){""!==$(this).val()&&$(this).val()!==$(this).attr("title")||$(this).attr("value",$(this).attr("title")).css({color:"#999"})}),$(".ghost").on("focusin",function(){$(this).val()===$(this).attr("title")&&$(this).val("").css({color:"#000000"})}).focusout(function(){""===$(this).val()&&$(this).val($(this).attr("title")).css({color:"#999"})})});